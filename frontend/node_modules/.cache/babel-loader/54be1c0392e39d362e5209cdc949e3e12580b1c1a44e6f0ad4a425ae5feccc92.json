{"ast":null,"code":"var _jsxFileName = \"/home/rodrigo/Documents/RODRIGO/FI/9noSemestre/NoSql/Proyecto/The_Social_Service/frontend/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n/**\n * App - Aplicación principal con autenticación\n */\n\nimport React, { useEffect } from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { restoreSession } from './features/auth/authSlice';\n\n// Pages\nimport AuthPage from './pages/AuthPage';\nimport FeedPage from './pages/FeedPage';\nimport TrendingPage from './pages/TrendingPage';\nimport DiscoverPage from './pages/DiscoverPage';\nimport ProfilePage from './pages/ProfilePage';\nimport MessagesPage from './pages/MessagesPage';\n\n// Protected Route Component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProtectedRoute = ({\n  children\n}) => {\n  _s();\n  const {\n    isAuthenticated\n  } = useSelector(state => state.auth);\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/auth\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 12\n    }, this);\n  }\n  return children;\n};\n_s(ProtectedRoute, \"TPD1adLOrTdsrr/HMWf3CuTzU0I=\", false, function () {\n  return [useSelector];\n});\n_c = ProtectedRoute;\nfunction App() {\n  _s2();\n  const dispatch = useDispatch();\n  const {\n    isAuthenticated,\n    currentUser\n  } = useSelector(state => state.auth);\n  const [isLoading, setIsLoading] = React.useState(true);\n\n  // Restaurar sesión desde localStorage al cargar la app\n  useEffect(() => {\n    const restoreAuth = async () => {\n      await dispatch(restoreSession());\n      setIsLoading(false);\n    };\n    restoreAuth();\n  }, [dispatch]);\n\n  // Mostrar loader mientras se restaura la sesión\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-screen bg-dark-bg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-text-secondary\",\n          children: \"Cargando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/auth\",\n        element: isAuthenticated ? /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/feed\",\n          replace: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 31\n        }, this) : /*#__PURE__*/_jsxDEV(AuthPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 65\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Navigate, {\n          to: isAuthenticated ? \"/feed\" : \"/auth\",\n          replace: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/feed\",\n        element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          children: /*#__PURE__*/_jsxDEV(FeedPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/trending\",\n        element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          children: /*#__PURE__*/_jsxDEV(TrendingPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/discover\",\n        element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          children: /*#__PURE__*/_jsxDEV(DiscoverPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/messages\",\n        element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          children: /*#__PURE__*/_jsxDEV(MessagesPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/profile/:username\",\n        element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          children: /*#__PURE__*/_jsxDEV(ProfilePage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"*\",\n        element: /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/\",\n          replace: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"9VnIWLEcNXvjVTlhLYtA+2GH4OQ=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"ProtectedRoute\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useEffect","BrowserRouter","Routes","Route","Navigate","useDispatch","useSelector","restoreSession","AuthPage","FeedPage","TrendingPage","DiscoverPage","ProfilePage","MessagesPage","jsxDEV","_jsxDEV","ProtectedRoute","children","_s","isAuthenticated","state","auth","to","replace","fileName","_jsxFileName","lineNumber","columnNumber","_c","App","_s2","dispatch","currentUser","isLoading","setIsLoading","useState","restoreAuth","className","path","element","_c2","$RefreshReg$"],"sources":["/home/rodrigo/Documents/RODRIGO/FI/9noSemestre/NoSql/Proyecto/The_Social_Service/frontend/src/App.js"],"sourcesContent":["/**\n * App - Aplicación principal con autenticación\n */\n\nimport React, { useEffect } from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { restoreSession } from './features/auth/authSlice';\n\n// Pages\nimport AuthPage from './pages/AuthPage';\nimport FeedPage from './pages/FeedPage';\nimport TrendingPage from './pages/TrendingPage';\nimport DiscoverPage from './pages/DiscoverPage';\nimport ProfilePage from './pages/ProfilePage';\nimport MessagesPage from './pages/MessagesPage';\n\n// Protected Route Component\nconst ProtectedRoute = ({ children }) => {\n  const { isAuthenticated } = useSelector((state) => state.auth);\n  \n  if (!isAuthenticated) {\n    return <Navigate to=\"/auth\" replace />;\n  }\n  \n  return children;\n};\n\nfunction App() {\n  const dispatch = useDispatch();\n  const { isAuthenticated, currentUser } = useSelector((state) => state.auth);\n  const [isLoading, setIsLoading] = React.useState(true);\n\n  // Restaurar sesión desde localStorage al cargar la app\n  useEffect(() => {\n    const restoreAuth = async () => {\n      await dispatch(restoreSession());\n      setIsLoading(false);\n    };\n    restoreAuth();\n  }, [dispatch]);\n  \n  // Mostrar loader mientras se restaura la sesión\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen bg-dark-bg\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-accent mx-auto mb-4\"></div>\n          <p className=\"text-text-secondary\">Cargando...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <BrowserRouter>\n      <Routes>\n        {/* Auth Route */}\n        <Route \n          path=\"/auth\" \n          element={\n            isAuthenticated ? <Navigate to=\"/feed\" replace /> : <AuthPage />\n          } \n        />\n        \n        {/* Redirect root to auth or feed */}\n        <Route \n          path=\"/\" \n          element={<Navigate to={isAuthenticated ? \"/feed\" : \"/auth\"} replace />} \n        />\n        \n        {/* Protected Routes */}\n        <Route \n          path=\"/feed\" \n          element={\n            <ProtectedRoute>\n              <FeedPage />\n            </ProtectedRoute>\n          } \n        />\n        \n        <Route \n          path=\"/trending\" \n          element={\n            <ProtectedRoute>\n              <TrendingPage />\n            </ProtectedRoute>\n          } \n        />\n        \n        <Route \n          path=\"/discover\" \n          element={\n            <ProtectedRoute>\n              <DiscoverPage />\n            </ProtectedRoute>\n          } \n        />\n        \n        <Route \n          path=\"/messages\" \n          element={\n            <ProtectedRoute>\n              <MessagesPage />\n            </ProtectedRoute>\n          } \n        />\n        \n        <Route \n          path=\"/profile/:username\" \n          element={\n            <ProtectedRoute>\n              <ProfilePage />\n            </ProtectedRoute>\n          } \n        />\n        \n        {/* Catch all */}\n        <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}